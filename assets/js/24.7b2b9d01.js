(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{474:function(e,a,t){"use strict";t.r(a);var s=t(7),r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[t("strong",[e._v("Disclaimer")]),e._v(": Cet article à été posté sur "),t("a",{attrs:{href:"https://www.upidev.com/tutoriels/installer-archlinux-sous-raspberry/",target:"_blank",rel:"noopener noreferrer"}},[e._v("upidev.com"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"prerequis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prerequis"}},[e._v("#")]),e._v(" Prérequis:")]),e._v(" "),t("ul",[t("li",[e._v("1 x raspberry pi")]),e._v(" "),t("li",[e._v("1 x ordinateur avec slot pour carte SD ou micro SD")]),e._v(" "),t("li",[e._v("1 x carte micro SD et 1 x adaptateur SD -> micro SD")]),e._v(" "),t("li",[e._v("1 x Alimentation pour téléphone portable (5V)")]),e._v(" "),t("li",[e._v("1 x Routeur ou une box")])]),e._v(" "),t("h4",{attrs:{id:"chemin-path-de-la-carte"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#chemin-path-de-la-carte"}},[e._v("#")]),e._v(" Chemin(Path) de la carte")]),e._v(" "),t("p",[e._v("Afin d’identifier le chemin vers la carte pour les manipulations, exécutez la commande suivante sans la carte insérée")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v(" /dev/sd*\n/dev/sda  /dev/sda1  /dev/sda2  /dev/sda5  /dev/sda6\n")])])]),t("p",[e._v("Branchez la carte puis relancez la commande.")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v(" /dev/sd*\n/dev/sda  /dev/sda1  /dev/sda2  /dev/sda5  /dev/sda6 /dev/sdc\n")])])]),t("h4",{attrs:{id:"formatage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#formatage"}},[e._v("#")]),e._v(" Formatage")]),e._v(" "),t("p",[e._v("Les commandes suivantes seront à exécuter en root.")]),e._v(" "),t("p",[e._v("Dans l’exemple, le chemin de la carte SD est "),t("strong",[e._v("/dev/sdc")]),e._v(" .")]),e._v(" "),t("p",[e._v("Nous souhaitons reformater la carte SD puis créer de nouvelles partitions.")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("fdisk")]),e._v(" /dev/sdc\n")])])]),t("p",[e._v("Une fois fdisk lancé, vous pouvez exécuter les commandes suivantes.")]),e._v(" "),t("ul",[t("li",[e._v("o : pour supprimer les partitions présentes sur la carte SD")]),e._v(" "),t("li",[e._v("p : pour vérifier que la carte est vide ( sans partitions )")])]),e._v(" "),t("p",[e._v("Ensuite")]),e._v(" "),t("ul",[t("li",[e._v("n : pour créer nouvelle partition")]),e._v(" "),t("li",[e._v("p : pour partition primaire")]),e._v(" "),t("li",[e._v("ENTER : mettre numéro 1 par défaut pour nouvelle partition")]),e._v(" "),t("li",[e._v("ENTER: taille par défaut pour First sector")]),e._v(" "),t("li",[e._v("+100M: Ajoute 100Mo pour Last sector")]),e._v(" "),t("li",[e._v("t : permet de définir le type de partition")]),e._v(" "),t("li",[e._v("c : pour choisir le type de partition W95 FAT32 (LBA)")])]),e._v(" "),t("p",[e._v("Enfin")]),e._v(" "),t("ul",[t("li",[e._v("n : pour créer une seconde partition")]),e._v(" "),t("li",[e._v("p : pour partition primaire")]),e._v(" "),t("li",[e._v("ENTER : partition numéro 2 par défaut")]),e._v(" "),t("li",[e._v("ENTER : assigne la taille restante sur la carte à la partition 2 ( First sector et Last Sector )")]),e._v(" "),t("li",[e._v("w : écrit les tables de partition 1 et 2")])]),e._v(" "),t("p",[e._v("Un redémarrage peut être nécessaire pour voir les nouvelles partitions créés.")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v(" /dev/sd*\n/dev/sda  /dev/sda1  /dev/sda2  /dev/sda5  /dev/sda6 /dev/sdc /dev/sdc1 /dev/sdc2\n")])])]),t("h4",{attrs:{id:"montage-des-partitions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#montage-des-partitions"}},[e._v("#")]),e._v(" Montage des partitions")]),e._v(" "),t("p",[e._v("Afin d’installer Archlinux sur la carte SD, les partitions doivent devenir accessible depuis le système d’exploitation et doivent être montés.")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("root $ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" /tmp/\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Créer et monte le système de fichier vfat")]),e._v("\n\nmkfs.vfat /dev/sdc1\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" boot\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mount")]),e._v(" /dev/sdc1 boot\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Créer et monte le système de fichier ext4")]),e._v("\n\nmkfs.ext4 /dev/sdc2\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" root\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mount")]),e._v(" /dev/sdc2 root\n")])])]),t("h4",{attrs:{id:"telechargement-de-archlinux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#telechargement-de-archlinux"}},[e._v("#")]),e._v(" Téléchargement de ArchLinux")]),e._v(" "),t("p",[e._v("Afin de réduire les problèmes de permissions, les manipulations suivantes seront réalisées dans le dossier /tmp.")]),e._v(" "),t("p",[e._v("Raspberry pi 3 : "),t("a",{attrs:{href:"http://os.archlinuxarm.org/os/ArchLinuxARM-rpi-3-latest.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[e._v("wget http://os.archlinuxarm.org/os/ArchLinuxARM-rpi-3-latest.tar.gz"),t("OutboundLink")],1)]),e._v(" "),t("h4",{attrs:{id:"installation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),t("p",[e._v("Une fois téléchargé, ArchLinux doit être extrait sur la carte SD.")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Extrait les fichiers dans root")]),e._v("\nbsdtar -xpf ArchLinuxARM-"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("rpi-version"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("-latest.tar.gz -C root\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Synchronise le répertoire monté avec la partition sur la carte SD")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sync")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Déplace les fichiers de boot dans boot")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" root/boot/* boot\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Démonte les partitions")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("umount")]),e._v(" boot root\n")])])]),t("h4",{attrs:{id:"acces-au-raspberry"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#acces-au-raspberry"}},[e._v("#")]),e._v(" Accès au raspberry")]),e._v(" "),t("p",[e._v("Une fois la carte SD connectée au raspberry et l’alimentation et cable réseau branchés, l’écran de chargement avec les 3 framboises s’affichera.")]),e._v(" "),t("p",[e._v("Par défaut, ssh-server est installé sur ArchLinux.")]),e._v(" "),t("p",[e._v("Vous pouvez accéder au Raspberry avec "),t("strong",[e._v("ssh alarm@adresseip")]),e._v(" depuis votre ordinateur.")]),e._v(" "),t("p",[e._v("Le mot de passe est “alarm”.")])])}),[],!1,null,null,null);a.default=r.exports}}]);