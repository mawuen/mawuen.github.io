(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{497:function(e,t,a){"use strict";a.r(t);var r=a(7),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"phpspec-cheatsheet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#phpspec-cheatsheet"}},[e._v("#")]),e._v(" Phpspec cheatsheet")]),e._v(" "),a("p",[e._v("A highly opinionated "),a("a",{attrs:{href:"http://www.phpspec.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("phpspec"),a("OutboundLink")],1),e._v(" cheat sheet.")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#stub"}},[e._v("Stub")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#mock"}},[e._v("Mock")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#setup-and-teardown"}},[e._v("Setup and teardown")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#matchers"}},[e._v("Matchers")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#resources"}},[e._v("Resources")])])]),e._v(" "),a("h2",{attrs:{id:"stub"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stub"}},[e._v("#")]),e._v(" Stub")]),e._v(" "),a("p",[e._v("To use when a collaborator's method returns a value:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("function it_can_be_assigned_tasks(Task $task)\n{\n    $task->getCost()->willReturn(42);\n    $this->assignTask($task);\n}\n")])])]),a("h2",{attrs:{id:"mock"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mock"}},[e._v("#")]),e._v(" Mock")]),e._v(" "),a("p",[e._v("To use when collaborator's method doesn't return a value:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("function it_can_be_assigned_tasks(Task $task)\n{\n    $task->changeCost(12)->shouldBeCalled();\n    $this->changeTaskCost($task, 12);\n}\n")])])]),a("h2",{attrs:{id:"setup-and-teardown"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup-and-teardown"}},[e._v("#")]),e._v(" Setup and teardown")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("const RESTAURANT = 'Chli-Pou-Ni';\n\nfunction let(Food $food)\n{\n    $this->beConstructedWith(self::RESTAURANT, $food);\n    $this->beConstructThrough('make', array(self::RESTAURANT, $food)); // Static constructor\n}\n\nfunction letGo()\n{\n    // ??? - profit!\n}\n")])])]),a("h2",{attrs:{id:"matchers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#matchers"}},[e._v("#")]),e._v(" Matchers")]),e._v(" "),a("p",[e._v("Begin with")]),e._v(" "),a("p",[e._v("To prefix with "),a("code",[e._v("should")]),e._v(" or "),a("code",[e._v("shouldNot")]),e._v(":")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("Be")]),e._v(": strict comparison ("),a("code",[e._v("===")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("BeLike")]),e._v(": loose comparison ("),a("code",[e._v("==")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("Implement")]),e._v(", "),a("code",[e._v("BeAnInstanceOf")]),e._v(" or "),a("code",[e._v("HaveType")])]),e._v(" "),a("li",[a("code",[e._v("HaveCount")])]),e._v(" "),a("li",[e._v("primitives:\n"),a("ul",[a("li",[a("code",[e._v("BeString")])]),e._v(" "),a("li",[a("code",[e._v("BeInteger")])]),e._v(" "),a("li",[a("code",[e._v("BeArray")])]),e._v(" "),a("li",[a("code",[e._v("BeBool")])]),e._v(" "),a("li",[a("code",[e._v("BeDecimal")])])])])]),e._v(" "),a("h3",{attrs:{id:"exception"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exception"}},[e._v("#")]),e._v(" Exception")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("$collaborator->methodCall()->willThrow('\\Exception');\n\n$this->shouldThrow('\\Exception')->duringMethod($argument);\n$this->shouldThrow(new \\Exception('message'))->duringMethod(array($argument));\n")])])]),a("h3",{attrs:{id:"custom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#custom"}},[e._v("#")]),e._v(" Custom")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("public function getMatchers()\n{\n    return [\n        'haveKey' => function($subject, $key) {\n            return array_key_exists($key, $subject);\n        },\n        'haveValue' => function($subject, $value) {\n            return in_array($value, $subject);\n        },\n    ];\n}\n")])])]),a("h2",{attrs:{id:"resources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resources"}},[e._v("#")]),e._v(" Resources")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/phpspec/prophecy",target:"_blank",rel:"noopener noreferrer"}},[e._v("prophecy repo"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"http://dannorth.net/introducing-bdd/",target:"_blank",rel:"noopener noreferrer"}},[e._v("introducing BDD, by Dan North"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"http://www.slideshare.net/marcello.duarte/phpspec-20-ilustrated-by-examples",target:"_blank",rel:"noopener noreferrer"}},[e._v("phpspec illustrated by examples"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"http://www.slideshare.net/marcello.duarte/emergent-design-with-phpspec",target:"_blank",rel:"noopener noreferrer"}},[e._v("emergent design with phpspec"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"http://techportal.inviqa.com/2014/09/11/my-top-ten-favourite-phpspec-limitations/",target:"_blank",rel:"noopener noreferrer"}},[e._v("my top 10 favourite phpspec limitations"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"http://www.slideshare.net/CiaranMcNulty/why-your-test-suite-sucks",target:"_blank",rel:"noopener noreferrer"}},[e._v("why your test suite sucks"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=s.exports}}]);